<header>
	<h1 class='h2'>Donor Search</h1>
</header>

<article ng-app="donors" ng-controller="DonorSearchController">
	<!-- Angular Markup -->
	<section class="search-form">
		<form>
			<div class="input-group input-group-lg">
				<label for="keywords" class="sr-only">Keywords</label>
				<input type="text"
					name="keywords"
					class="form-control input-lg"
					placeholder="First Name, Last Name, or Email"
					ng-model="keywords">
				<span class="input-group-btn">
					<button class="btn btn-primary btn-lg"
						ng-click="search(keywords)">
					Find Donors
					</button>
				</span>
			</div>
		</form>
		<h1 class="searchedFor" ng-if="searchedFor">
			<small>Searched for:</small> {{searchedFor}}
		</h1>
	</section>

	<section class="search-results">
		<header>
			<h1 class="h3">Results</h1>
		</header>
		<%= render partial: "pager", locals: {keywords: @keywords, page: @page} %>
		<ol class="list-group">
				<li class="list-group-item clearfix" ng-repeat="donor in donors">
					<h3 class='pull-right'>
						<small class="text-uppercase">Joined</small> 
							{{ donor.created_at | date}} </h3>
					<h2 class="h3">
						{{ donor.first_name }} {{ donor.last_name }}
						<small>{{ donor.username }}</small>		
					</h2>
					<h4>{{ donor.email }}</h4>
				</li>
		</ol>
		<%= render partial: "pager", locals: {keywords: @keywords, page: @page} %>
	</section>
</article>



<!-- <section class="search-form">
<%= form_for :donors, method: :get do |f| %>
	<div class="input-group input-group-lg">
	<%= label_tag :keywords, nil, class:"sr-only" %>
	<%= text_field_tag :keywords, nil, placeholder: "First name, last name, email address", class: "form-control input-lg" %>
	<span class="input-group-btn">
		<%= submit_tag "Find Donors", class: "btn btn-primary btn-lg" %>
	</span>
	</div>

<% end %>
</section> -->

<!-- <section class="search-results">
	<header>
		<h1 class="h3">Results</h1>
	</header>
	<% if @donors.present? %>
	<%= render partial: "pager", locals: {keywords: @keywords, page: @page} %>
	<ol class="list-group">
		<% @donors.each do |donor| %>
			<li class="list-group-item clearfix">
				<h3 class='pull-right'>
					<small class="text-uppercase">Joined</small> 
					<%= donor.created_at.to_date %></h3>
				<h2 class="h3">
					<%= donor.first_name %> <%= donor.last_name %>
					<small><%= donor.username %></small>		
				</h2>
				<h4><%= donor.email %></h4>
			</li>
		<% end %>
	</ol>
	<%= render partial: "pager", locals: {keywords: @keywords, page: @page} %>
	<% else %>
	<p>No results found</p>
	<% end %>
</section> -->